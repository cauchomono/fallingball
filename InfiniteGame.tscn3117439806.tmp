[gd_scene load_steps=16 format=3 uid="uid://g2yff0k0vr2i"]

[ext_resource type="PackedScene" uid="uid://cl33bl2vm01f6" path="res://ball_player.tscn" id="1_ln74n"]
[ext_resource type="Script" uid="uid://ccin7htq3rfuq" path="res://infinite_game.gd" id="1_rn5lo"]
[ext_resource type="PackedScene" uid="uid://dsk3nul0lybmr" path="res://brick.tscn" id="2_qmnnm"]
[ext_resource type="PackedScene" uid="uid://hkby25l8h2yw" path="res://spawner.tscn" id="3_7n23v"]
[ext_resource type="Script" uid="uid://ob1kabjwe0bk" path="res://background.gd" id="3_8bgac"]
[ext_resource type="Texture2D" uid="uid://fg547y5iri2a" path="res://images/space.png" id="4_8bgac"]
[ext_resource type="PackedScene" uid="uid://bpqobu2eoi7eo" path="res://obstacle_1.tscn" id="4_njkes"]
[ext_resource type="PackedScene" uid="uid://cv25kt31alm3k" path="res://obstacle_2.tscn" id="5_8v6ie"]
[ext_resource type="PackedScene" uid="uid://dg8kc7d2j0xvf" path="res://points_zone.tscn" id="6_ifnan"]
[ext_resource type="AudioStream" uid="uid://bs1cxscqftk5f" path="res://sounds/music/Ludum Dare 28 04.ogg" id="8_2d4u3"]
[ext_resource type="PackedScene" uid="uid://cjrd76j1qp2d3" path="res://coin.tscn" id="10_oqik8"]
[ext_resource type="Shader" uid="uid://cavet4k2jsfr0" path="res://space.gdshader" id="11_l5n8k"]
[ext_resource type="Script" uid="uid://ci20vobqd4mfu" path="res://game_over_screen.gd" id="12_ngmkv"]
[ext_resource type="PackedScene" uid="uid://cj6rptkj5yex2" path="res://score_manager.tscn" id="14_4m4r1"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ngmkv"]
shader = ExtResource("11_l5n8k")
shader_parameter/my_texture = ExtResource("4_8bgac")
shader_parameter/scroll_speed = Vector2(0, 0.1)

[node name="Node2D" type="Node2D"]
script = ExtResource("1_rn5lo")

[node name="BallPlayer" parent="." instance=ExtResource("1_ln74n")]
unique_name_in_owner = true
position = Vector2(0, -2)

[node name="Background" type="ParallaxBackground" parent="."]
layer = -8
visible = false
script = ExtResource("3_8bgac")

[node name="ParallaxLayer" type="ParallaxLayer" parent="Background"]
texture_repeat = 3
motion_mirroring = Vector2(0, 640.68)

[node name="Sprite2D" type="Sprite2D" parent="Background/ParallaxLayer"]
texture_repeat = 2
position = Vector2(195, 259)
texture = ExtResource("4_8bgac")

[node name="Background2" type="Sprite2D" parent="."]
unique_name_in_owner = true
z_index = -10
texture_repeat = 2
material = SubResource("ShaderMaterial_ngmkv")
position = Vector2(241, 429)
scale = Vector2(1.5626, 1.5626)
texture = ExtResource("4_8bgac")

[node name="Score" type="Label" parent="Background2"]
offset_left = -125.432
offset_top = -274.543
offset_right = 160.568
offset_bottom = -251.543
theme_override_colors/font_color = Color(1, 1, 1, 1)
theme_override_colors/font_shadow_color = Color(0.926806, 0.926806, 0.926806, 1)
theme_override_colors/font_outline_color = Color(0.967671, 0.967671, 0.967671, 1)
text = "Score: 0"

[node name="HighScore" type="Label" parent="Background2"]
offset_left = 6.3996
offset_top = -274.542
offset_right = 272.4
offset_bottom = -251.542
theme_override_colors/font_color = Color(1, 1, 1, 1)
theme_override_colors/font_shadow_color = Color(0.926806, 0.926806, 0.926806, 1)
theme_override_colors/font_outline_color = Color(0.967671, 0.967671, 0.967671, 1)
text = "High Score: 0"

[node name="Brick2" parent="." instance=ExtResource("2_qmnnm")]
position = Vector2(465, 78)

[node name="Brick3" parent="Brick2" instance=ExtResource("2_qmnnm")]
position = Vector2(0, 156)

[node name="Brick4" parent="Brick2" instance=ExtResource("2_qmnnm")]
position = Vector2(0, 314)

[node name="Brick5" parent="Brick2" instance=ExtResource("2_qmnnm")]
position = Vector2(0, 473)

[node name="Brick6" parent="Brick2" instance=ExtResource("2_qmnnm")]
position = Vector2(0, 631)

[node name="Brick7" parent="Brick2" instance=ExtResource("2_qmnnm")]
position = Vector2(0, 788)

[node name="Brick8" parent="." instance=ExtResource("2_qmnnm")]
position = Vector2(17, 80)

[node name="Brick9" parent="Brick8" instance=ExtResource("2_qmnnm")]
position = Vector2(-1, 159)

[node name="Brick10" parent="Brick8" instance=ExtResource("2_qmnnm")]
position = Vector2(-1, 315)

[node name="Brick11" parent="Brick8" instance=ExtResource("2_qmnnm")]
position = Vector2(-1, 474)

[node name="Brick12" parent="Brick8" instance=ExtResource("2_qmnnm")]
position = Vector2(-1, 632)

[node name="Brick13" parent="Brick8" instance=ExtResource("2_qmnnm")]
position = Vector2(-1, 789)

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(240, 426)
enabled = false

[node name="Spawner" parent="." instance=ExtResource("3_7n23v")]
unique_name_in_owner = true
position = Vector2(229, 856)
random_obstacle_scene = Array[PackedScene]([ExtResource("4_njkes"), ExtResource("5_8v6ie")])
coin_scene = ExtResource("10_oqik8")

[node name="PointsZone" parent="." instance=ExtResource("6_ifnan")]
unique_name_in_owner = true
position = Vector2(-1, 1)

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("8_2d4u3")

[node name="GameOverScreen" type="CanvasLayer" parent="."]
unique_name_in_owner = true
visible = false
script = ExtResource("12_ngmkv")

[node name="Control" type="Control" parent="GameOverScreen"]
process_mode = 2
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="ColorRect" type="ColorRect" parent="GameOverScreen/Control"]
layout_mode = 0
offset_right = 481.0
offset_bottom = 942.0
color = Color(1, 1, 1, 0.384314)

[node name="GameOver" type="Label" parent="GameOverScreen/Control"]
modulate = Color(0.807843, 0.478431, 0.760784, 1)
layout_mode = 0
offset_right = 485.0
offset_bottom = 608.0
theme_override_font_sizes/font_size = 45
text = "Game over"
horizontal_alignment = 1
vertical_alignment = 1

[node name="GameOverScore" type="Label" parent="GameOverScreen/Control"]
unique_name_in_owner = true
modulate = Color(0.160784, 0.784314, 0.929412, 1)
layout_mode = 1
anchors_preset = -1
anchor_left = 0.501
anchor_top = 0.5
anchor_right = 0.501
anchor_bottom = 0.5
offset_left = -20.04
offset_top = 302.0
offset_right = 460.96
offset_bottom = 510.0
theme_override_font_sizes/font_size = 26
text = "Your score: "
horizontal_alignment = 1
vertical_alignment = 1

[node name="VBoxContainer" type="VBoxContainer" parent="GameOverScreen/Control"]
custom_minimum_size = Vector2(200, 100)
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = 120.0
offset_top = 480.0
offset_right = 320.0
offset_bottom = 580.0
grow_horizontal = 2
grow_vertical = 2
alignment = 1

[node name="MainMenuPage" type="Button" parent="GameOverScreen/Control/VBoxContainer"]
unique_name_in_owner = true
process_mode = 2
layout_mode = 2
text = "Main Menu"

[node name="RestartPage" type="Button" parent="GameOverScreen/Control/VBoxContainer"]
unique_name_in_owner = true
process_mode = 2
layout_mode = 2
text = "Restart"

[node name="Score_manager" parent="." node_paths=PackedStringArray("points_zone", "spawner", "score_interface") instance=ExtResource("14_4m4r1")]
points_zone = NodePath("../PointsZone")
spawner = NodePath("../Spawner")
score_interface = NodePath("../Background2")

[connection signal="pressed" from="GameOverScreen/Control/VBoxContainer/MainMenuPage" to="GameOverScreen" method="_on_main_menu_page_pressed"]
[connection signal="pressed" from="GameOverScreen/Control/VBoxContainer/RestartPage" to="GameOverScreen" method="_on_restart_page_pressed"]
